== TWM Facebook Auth Plugin

The purpose of this plugin is to make it easier for someone writing a Facebook app to deal with all the Facebook
authentication craziness.

Craziness you ask? Well, having been writing Facebook apps for a few years now, we've seen a lot of odd behaviour from
our favourite social network as they've been finding their footing in the world. Changes to authentication and auth
configuration of your app can be quite disruptive, especially when they arrive unannounced on one of their famous
Wednesday updates.

This plugin uses a few techniques to locate your "access token" and prefers to use the OAuth API to get what you need as
a Facebook app to ensure your users have correctly added your app, authenticated in Facebook, and to communicate with
the Graph API.

Here are the scenarios we'd like to handle:

= iFrame Apps

- first page load as an iFrame app inside Facebook, where authentication params are sent in the URL used for your iFrame
  - this is particularly required for mobile Safari and other browsers blocking cross-domain cookies by default

- loading from the cookie initialized by the JavaScript API
  - works great for browsers supporting cross-domain cookies by default

- the access token you get is time-limited, if it has expired you need to be re-authenticated

= External (Connect) Apps

- handling an OAuth exchange back & forth with Facebook to handle authentication and capture URL parameters back for
  token

== Auth token flow

- check session data
  - if not empty, verify validity (expiry, look up user)
  - if empty or validity fails try from url parameters
  - if empty or validity fails try from cookie

== Questions we need to answer:

  - what timezone is the OAuth token expiry value in? (we get it in Epoch, no TZ data, assume San Fran?)
  - what happens when time approaches the OAuth token expiry?
    - do we get a new one?
    - are we expected to stop functioning and redirect to a FB login?
  - how do we tell the difference between someone not logged into FB and someone who hasn't added our app?
    - FB.getLoginStatus
      - "connected" - user has app, and is authenticated
      - "unknown" - user not logged in
      - "notConnected" - user has not added app

== Screens Required to Implement
